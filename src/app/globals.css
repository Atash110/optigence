@tailwind base;
@tailwind components;
@tailwind utilities;
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Geist:wght@300;400;500;600;700;800;900&display=swap');

:root {
  /* OptiMail Matrix Design System - Dark Navy Base */
  --optimail-navy-darkest: #0D1B2A;
  --optimail-navy-dark: #1B263B;
  --optimail-navy-medium: #415A77;
  --optimail-blue-bright: #3B82F6;
  --optimail-blue-cyan: #06B6D4;
  --optimail-glass-bg: rgba(13, 27, 42, 0.85);
  --optimail-glass-border: rgba(255, 255, 255, 0.1);
  --optimail-text-primary: #E2E8F0;
  --optimail-text-secondary: #94A3B8;
  
  /* Original Color Scheme */
  --background-light: #F9FAFB;
  --background-dark: #020617;
  --foreground-light: #0F172A;
  --foreground-dark: #E2E8F0;
  --primary-light: #2563EB;
  --primary-dark: #3B82F6;
  --card-light: #FFFFFF;
  --card-dark: #0F172A;
  --border-light: #E5E7EB;
  --border-dark: #1E293B;
  --accent-light: #E0F2FE;
  --accent-dark: #60A5FA;
}

/* Light mode (default) */
:root {
  --background: var(--background-light);
  --foreground: var(--foreground-light);
  --primary: var(--primary-light);
  --border: var(--border-light);
}

/* Dark mode */
[data-theme="dark"],
.dark {
  --background: var(--background-dark);
  --foreground: var(--foreground-dark);
  --primary: var(--primary-dark);
  --border: var(--border-dark);
}

html {
  overflow: auto;
  height: 100%;
}

body {
  font-family: var(--font-geist), var(--font-inter), system-ui, sans-serif;
  color: var(--foreground);
  background: var(--background);
  transition: background-color 0.3s ease, color 0.3s ease;
  overflow: auto;
  height: 100%;
}

/* OptiMail specific glass morphism utilities */
.optimail-glass {
  background: var(--optimail-glass-bg);
  -webkit-backdrop-filter: blur(16px);
  backdrop-filter: blur(16px);
  border: 1px solid var(--optimail-glass-border);
}

.optimail-glass-soft {
  background: rgba(13, 27, 42, 0.6);
  -webkit-backdrop-filter: blur(12px);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.05);
}

/* OptiMail layout utilities */
.optimail-main-content {
  height: calc(100vh - 200px);
}

/* Matrix-grade micro animations */
.optimail-micro-motion {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.optimail-micro-motion:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
}

/* Breathing cursor animation for typing simulation */
@keyframes breathing-cursor {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.breathing-cursor {
  animation: breathing-cursor 1s infinite;
}

/* OptiMail typing animation at 300 CPM */
@keyframes typing-300cpm {
  from { width: 0; }
  to { width: 100%; }
}

.typing-effect {
  overflow: hidden;
  white-space: nowrap;
  animation: typing-300cpm 2s steps(40, end);
}

/* iOS zoom prevention for input fields */
.auth-input {
  font-size: 16px !important;
}

/* Modal overlay with highest z-index */
.modal-overlay {
  z-index: 9999;
}

@media screen and (max-width: 640px) {
  .auth-input {
    font-size: 16px !important;
  }
}

/* Custom scrollbar with OptiMail theme */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--optimail-blue-bright);
  border-radius: 3px;
  opacity: 0.3;
}

::-webkit-scrollbar-thumb:hover {
  opacity: 0.5;
}

/* Typing animation */
.typing::after {
  content: '';
  animation: typing 1.5s steps(3, end) infinite;
}

@keyframes typing {
  0% { content: '.'; }
  33% { content: '..'; }
  66% { content: '...'; }
}

/* OptiMail chip dock animation */
.chip-dock-in {
  animation: chipDockIn 0.3s cubic-bezier(0.4, 0, 0.2, 1) forwards;
}

@keyframes chipDockIn {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Soft shadow system for glass elements */
.optimail-shadow-soft {
  box-shadow: 
    0 1px 2px rgba(0, 0, 0, 0.1),
    0 4px 8px rgba(59, 130, 246, 0.08);
}

.optimail-shadow-medium {
  box-shadow: 
    0 4px 6px rgba(0, 0, 0, 0.1),
    0 8px 16px rgba(59, 130, 246, 0.12);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: 'Geist', system-ui, sans-serif;
}
